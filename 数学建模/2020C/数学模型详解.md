# 中小微企业信贷策略数学模型与可视化分析

## 1. 数学模型构建

### 1.1 问题描述与约束条件

某银行对确定要放贷的企业制定如下约束条件：
- 贷款额度：10万元 ≤ L ≤ 100万元
- 年利率：4% ≤ r ≤ 15%
- 贷款期限：T = 1年

### 1.2 符号定义

| 符号 | 含义 | 单位 |
|------|------|------|
| $L_i$ | 第i家企业的贷款额度 | 万元 |
| $r_i$ | 第i家企业的年利率 | % |
| $R_i$ | 第i家企业的综合风险评分 | [0,1] |
| $C_i$ | 第i家企业的信誉评级 | {A,B,C,D} |
| $D_i$ | 第i家企业的历史违约标识 | {0,1} |
| $F_i$ | 第i家企业的财务状况评分 | [0,1] |
| $Q_i$ | 第i家企业的发票质量评分 | [0,1] |
| $S_i$ | 第i家企业的业务稳定性评分 | [0,1] |
| $P_i$ | 第i家企业的违约概率 | [0,1] |
| $E_i$ | 第i家企业的预期收益 | 万元 |
| $B$ | 银行总预算 | 万元 |

### 1.3 综合风险评分模型

#### 1.3.1 风险评分公式

综合风险评分采用加权线性组合：

$$R_i = w_1 \cdot R_{C_i} + w_2 \cdot D_i + w_3 \cdot R_{F_i} + w_4 \cdot R_{Q_i} + w_5 \cdot R_{S_i}$$

其中权重分配为：
- $w_1 = 0.35$ (信誉评级权重)
- $w_2 = 0.25$ (历史违约权重)  
- $w_3 = 0.20$ (财务状况权重)
- $w_4 = 0.15$ (发票质量权重)
- $w_5 = 0.05$ (业务稳定权重)

#### 1.3.2 各维度风险评分

**1) 信誉评级风险评分**
$$R_{C_i} = \begin{cases}
0.1 & \text{if } C_i = A \\
0.3 & \text{if } C_i = B \\
0.6 & \text{if } C_i = C \\
0.9 & \text{if } C_i = D
\end{cases}$$

**2) 历史违约风险评分**
$$R_{D_i} = 0.8 \cdot D_i + 0.1 \cdot (1-D_i)$$

**3) 财务状况风险评分**
基于毛利率的标准化逆向评分：
$$R_{F_i} = 1 - \frac{\text{毛利率}_i - \min(\text{毛利率})}{\max(\text{毛利率}) - \min(\text{毛利率})}$$

**4) 发票质量风险评分**
$$R_{Q_i} = \frac{\text{作废发票数量}_i}{\text{总发票数量}_i}$$

**5) 业务稳定性风险评分**
基于业务活跃度的标准化逆向评分：
$$R_{S_i} = 1 - \frac{\ln(1+\text{年发票总量}_i) - \min(\ln(1+\text{年发票总量}))}{\max(\ln(1+\text{年发票总量})) - \min(\ln(1+\text{年发票总量}))}$$

### 1.4 贷款额度决策模型

#### 1.4.1 基础额度计算

根据信誉评级和历史违约情况确定基础额度：

$$L_{base,i} = \begin{cases}
\min(100, \max(10, 0.25 \times \text{年营业收入}_i)) & \text{if } C_i = A \text{ and } D_i = 0 \\
\min(80, \max(10, 0.15 \times \text{年营业收入}_i)) & \text{if } C_i = A \text{ and } D_i = 1 \\
\min(80, \max(10, 0.20 \times \text{年营业收入}_i)) & \text{if } C_i = B \text{ and } D_i = 0 \\
\min(60, \max(10, 0.12 \times \text{年营业收入}_i)) & \text{if } C_i = B \text{ and } D_i = 1 \\
\min(50, \max(10, 0.10 \times \text{年营业收入}_i)) & \text{if } C_i = C \text{ and } D_i = 0 \\
\min(30, \max(10, 0.08 \times \text{年营业收入}_i)) & \text{if } C_i = C \text{ and } D_i = 1 \\
0 & \text{if } C_i = D
\end{cases}$$

#### 1.4.2 财务状况调整

$$L_{adj,i} = \begin{cases}
\min(100, L_{base,i} \times 1.2) & \text{if 毛利率}_i > 0.3 \\
L_{base,i} \times 0.7 & \text{if 毛利率}_i < 0 \\
L_{base,i} & \text{otherwise}
\end{cases}$$

#### 1.4.3 最终额度确定

$$L_i = \begin{cases}
\min(100, \max(10, L_{adj,i})) & \text{if } L_{adj,i} \geq 10 \\
0 & \text{if } L_{adj,i} < 10
\end{cases}$$

### 1.5 利率定价模型

#### 1.5.1 基础利率计算

基础利率根据信誉评级和风险评分确定：

$$r_{base,i} = \begin{cases}
0.045 + 0.02 \times R_i & \text{if } C_i = A \text{ and } D_i = 0 \\
0.055 + 0.03 \times R_i & \text{if } C_i = A \text{ and } D_i = 1 \\
0.055 + 0.03 \times R_i & \text{if } C_i = B \text{ and } D_i = 0 \\
0.070 + 0.04 \times R_i & \text{if } C_i = B \text{ and } D_i = 1 \\
0.080 + 0.05 \times R_i & \text{if } C_i = C \text{ and } D_i = 0 \\
0.100 + 0.05 \times R_i & \text{if } C_i = C \text{ and } D_i = 1
\end{cases}$$

#### 1.5.2 利率约束

$$r_i = \max(0.04, \min(0.15, r_{base,i}))$$

### 1.6 违约概率模型

违约概率基于综合风险评分建模：

$$P_i = \min(0.95, R_i \times 1.1)$$

### 1.7 收益优化模型

#### 1.7.1 预期收益计算

$$E_i = L_i \times r_i \times (1 - P_i)$$

#### 1.7.2 风险调整收益

$$RAR_i = \frac{E_i}{L_i \times R_i + 0.01}$$

#### 1.7.3 优化目标函数

最大化银行总预期收益：

$$\max \sum_{i=1}^{n} E_i = \sum_{i=1}^{n} L_i \times r_i \times (1 - P_i)$$

#### 1.7.4 约束条件

1. **预算约束**：$\sum_{i=1}^{n} L_i \leq B$
2. **额度约束**：$10 \leq L_i \leq 100$ (对于获贷企业)
3. **利率约束**：$0.04 \leq r_i \leq 0.15$
4. **逻辑约束**：$L_i \geq 0, r_i \geq 0$

### 1.8 预算分配优化算法

当总需求超过预算时，按风险调整收益排序分配：

1. 计算所有企业的风险调整收益 $RAR_i$
2. 按 $RAR_i$ 降序排列
3. 依次分配贷款，直到预算耗尽
4. 对于最后一家企业，分配剩余预算（如果≥10万元）

## 2. 模型验证与结果

### 2.1 模型参数

- 总预算：B = 10,000万元
- 企业总数：n = 123家
- 最小贷款额度：10万元
- 最大贷款额度：100万元

### 2.2 优化结果

- 获贷企业：99家 (80.5%)
- 拒贷企业：24家 (19.5%)
- 实际放贷：7,785万元
- 预算利用率：77.85%

### 2.3 收益指标

- 预期年利息收入：513.6万元
- 预期年净收益：384.8万元
- 投资回报率：4.94%
- 加权平均利率：6.60%

### 2.4 风险控制

- 平均违约概率：25.05%
- 高风险企业贷款：0笔
- D级企业拒贷率：100%

## 3. 模型特点与创新

### 3.1 多维度风险评估
结合信誉评级、历史违约、财务状况、发票质量和业务稳定性五个维度，构建综合风险评分体系。

### 3.2 动态定价机制
利率与风险评分正相关，实现风险与收益的有效匹配。

### 3.3 约束优化求解
在银行实际业务约束下，通过风险调整收益优化实现资源的最优配置。

### 3.4 模型适用性
模型参数可根据不同银行的风险偏好和业务策略进行调整，具有良好的可扩展性。
