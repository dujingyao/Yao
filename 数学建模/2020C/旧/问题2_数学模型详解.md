# 问题2：无信贷记录企业信贷风险量化分析数学模型

## 1. 模型概述

### 1.1 问题描述
对302家无信贷记录企业进行信贷风险量化分析，基于发票数据构建风险评估模型，在1亿元预算约束下制定最优信贷策略。

### 1.2 符号定义

| 符号 | 含义 | 单位/范围 |
|------|------|-----------|
| $E_i$ | 第i家企业 | $i = 1,2,...,302$ |
| $R_i$ | 第i家企业的综合风险评分 | $[0,1]$ |
| $L_i$ | 第i家企业的贷款额度 | 万元，$[0,500]$ |
| $r_i$ | 第i家企业的贷款利率 | $[0.04,0.15]$ |
| $Y_i$ | 第i家企业的年收入 | 万元 |
| $C_i$ | 第i家企业的年采购额 | 万元 |
| $M_i$ | 第i家企业的毛利率 | $[-1,1]$ |
| $N_{c,i}$ | 第i家企业的客户数量 | 个 |
| $N_{s,i}$ | 第i家企业的供应商数量 | 个 |
| $H_{c,i}$ | 第i家企业的客户集中度(HHI) | $[0,1]$ |
| $H_{s,i}$ | 第i家企业的供应商集中度(HHI) | $[0,1]$ |
| $F_{inv,i}$ | 第i家企业的作废发票率 | $[0,1]$ |
| $F_{neg,i}$ | 第i家企业的负数发票率 | $[0,1]$ |
| $B$ | 银行总预算 | 万元，$B = 10000$ |

## 2. 风险评估数学模型

### 2.1 层次分析法(AHP)权重体系

#### 2.1.1 判断矩阵构建
建立5×5判断矩阵 $A$：

$$A = \begin{pmatrix}
1 & 2 & 3 & 4 & 5 \\
1/2 & 1 & 2 & 3 & 4 \\
1/3 & 1/2 & 1 & 2 & 3 \\
1/4 & 1/3 & 1/2 & 1 & 2 \\
1/5 & 1/4 & 1/3 & 1/2 & 1
\end{pmatrix}$$

#### 2.1.2 权重向量计算
通过特征值法求解权重向量：
$$AW = \lambda_{max}W$$

得到归一化权重向量：
$$W = [w_1, w_2, w_3, w_4, w_5]^T = [0.419, 0.263, 0.160, 0.097, 0.061]^T$$

#### 2.1.3 一致性检验
- 一致性指标：$CI = \frac{\lambda_{max} - n}{n-1} = 0.027$
- 随机一致性指标：$RI = 1.12$
- 一致性比率：$CR = \frac{CI}{RI} = 0.024 < 0.1$ ✓

### 2.2 风险评分子模型

#### 2.2.1 财务状况风险评分 $R_{fin,i}$

**毛利率计算：**
$$M_i = \frac{Y_i - C_i}{Y_i}$$

**收入成本比：**
$$RC_i = \frac{Y_i}{C_i}$$

**收入稳定性：**
$$S_{rev,i} = 1 - \frac{\sigma_{rev,i}}{\mu_{rev,i}}$$

**财务状况评分：**
$$R_{fin,i} = 0.4 \cdot \text{norm}(M_i) + 0.3 \cdot \text{norm}(RC_i) + 0.3 \cdot \text{norm}(S_{rev,i})$$

#### 2.2.2 业务稳定性风险评分 $R_{bus,i}$

**客户稳定性：**
$$S_{c,i} = 1 - H_{c,i} = 1 - \sum_{j=1}^{N_{c,i}} \left(\frac{Y_{ij}}{Y_i}\right)^2$$

**供应商稳定性：**
$$S_{s,i} = 1 - H_{s,i} = 1 - \sum_{k=1}^{N_{s,i}} \left(\frac{C_{ik}}{C_i}\right)^2$$

**交易频次：**
$$T_i = N_{rev,i} + N_{pur,i}$$

**业务稳定性评分：**
$$R_{bus,i} = 0.4 \cdot \text{norm}(S_{c,i}) + 0.3 \cdot \text{norm}(S_{s,i}) + 0.3 \cdot \text{norm}(T_i)$$

#### 2.2.3 发票质量风险评分 $R_{inv,i}$

**发票质量评分：**
$$R_{inv,i} = 1 - [0.6 \cdot \text{norm}(F_{inv,i}) + 0.4 \cdot \text{norm}(F_{neg,i})]$$

#### 2.2.4 经营规模风险评分 $R_{sca,i}$

**规模评分：**
$$R_{sca,i} = 0.4 \cdot \text{norm}(Y_i) + 0.3 \cdot \text{norm}(N_{c,i}) + 0.3 \cdot \text{norm}(N_{s,i})$$

#### 2.2.5 增长潜力风险评分 $R_{gro,i}$

**增长评分：**
$$R_{gro,i} = 0.6 \cdot \text{norm}(M_i) + 0.4 \cdot \text{norm}(T_i)$$

### 2.3 综合风险评分模型

$$R_i = w_1 \cdot R_{fin,i} + w_2 \cdot R_{bus,i} + w_3 \cdot R_{inv,i} + w_4 \cdot R_{sca,i} + w_5 \cdot R_{gro,i}$$

$$R_i = 0.419R_{fin,i} + 0.263R_{bus,i} + 0.160R_{inv,i} + 0.097R_{sca,i} + 0.061R_{gro,i}$$

### 2.4 风险等级划分

$$\text{Risk Level}_i = \begin{cases}
\text{极高风险} & \text{if } R_i \in [0, 0.2) \\
\text{高风险} & \text{if } R_i \in [0.2, 0.4) \\
\text{中风险} & \text{if } R_i \in [0.4, 0.6) \\
\text{较低风险} & \text{if } R_i \in [0.6, 0.8) \\
\text{低风险} & \text{if } R_i \in [0.8, 1.0]
\end{cases}$$

## 3. 信贷策略优化模型

### 3.1 贷款额度模型

#### 3.1.1 基础额度计算
$$L_{base,i} = \begin{cases}
\min(100, \max(10, Y_i \times 0.0003 \times R_i)) & \text{if } R_i \geq 0.2 \\
0 & \text{if } R_i < 0.2
\end{cases}$$

#### 3.1.2 风险等级约束
$$L_{limit,i} = \begin{cases}
500 & \text{if Risk Level}_i = \text{低风险} \\
300 & \text{if Risk Level}_i = \text{较低风险} \\
200 & \text{if Risk Level}_i = \text{中风险} \\
100 & \text{if Risk Level}_i = \text{高风险} \\
0 & \text{if Risk Level}_i = \text{极高风险}
\end{cases}$$

#### 3.1.3 最终推荐额度
$$L_{rec,i} = \min(L_{base,i}, L_{limit,i})$$

### 3.2 利率定价模型

#### 3.2.1 基础利率
$$r_{base,i} = 0.04 + (1 - R_i) \times 0.11$$

#### 3.2.2 风险调整
$$r_{adj,i} = \begin{cases}
0 & \text{if Risk Level}_i = \text{低风险} \\
0.01 & \text{if Risk Level}_i = \text{较低风险} \\
0.02 & \text{if Risk Level}_i = \text{中风险} \\
0.03 & \text{if Risk Level}_i = \text{高风险} \\
0.04 & \text{if Risk Level}_i = \text{极高风险}
\end{cases}$$

#### 3.2.3 最终利率
$$r_i = \max(0.04, \min(0.15, r_{base,i} + r_{adj,i}))$$

### 3.3 预算分配优化模型

#### 3.3.1 目标函数
**最大化预期收益：**
$$\max Z = \sum_{i=1}^{302} L_i \times r_i \times R_i$$

#### 3.3.2 约束条件
1. **预算约束：**
   $$\sum_{i=1}^{302} L_i \leq B = 10000$$

2. **额度约束：**
   $$0 \leq L_i \leq L_{rec,i}, \quad \forall i$$

3. **利率约束：**
   $$0.04 \leq r_i \leq 0.15, \quad \forall i$$

4. **逻辑约束：**
   $$L_i \geq 0, \quad r_i \geq 0, \quad \forall i$$

#### 3.3.3 贪心分配算法

**步骤1：计算预期收益率**
$$ERR_i = r_i \times R_i$$

**步骤2：排序分配**
对所有候选企业按 $ERR_i$ 降序排列，依次分配额度：

```
累计预算 = 0
for 企业i in 排序后的候选企业:
    if 累计预算 + L_rec,i ≤ B:
        L_i = L_rec,i
        累计预算 += L_rec,i
    elif B - 累计预算 ≥ 10:
        L_i = B - 累计预算
        累计预算 = B
        break
    else:
        L_i = 0
```

### 3.4 标准化函数

对于任意指标序列 $X = \{x_1, x_2, ..., x_n\}$：

$$\text{norm}(x_i) = \frac{x_i - \min(X)}{\max(X) - \min(X)}$$

当 $\max(X) = \min(X)$ 时，$\text{norm}(x_i) = 0$

## 4. 模型验证与结果

### 4.1 模型运行结果
- **风险识别效果**：成功识别出13家高风险企业
- **资源配置效率**：预算利用率100%
- **收益预期**：年预期收益率10.74%

### 4.2 敏感性分析
对权重参数进行±10%扰动，模型结果稳定性良好。

### 4.3 模型优势
1. **科学性**：基于AHP理论的权重体系
2. **实用性**：完全基于可获得的发票数据
3. **灵活性**：参数可根据实际情况调整
4. **可解释性**：每个步骤都有明确的数学依据

## 5. 模型局限性与改进方向

### 5.1 局限性
1. 未考虑行业差异和宏观经济因素
2. 权重设置主观性较强
3. 缺乏动态调整机制

### 5.2 改进方向
1. 引入行业特征变量
2. 建立权重的动态调整机制
3. 增加机器学习方法验证
